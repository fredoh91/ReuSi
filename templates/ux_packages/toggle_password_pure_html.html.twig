{# templates/ux_packages/toggle_password_pure_html.html.twig #}

{% block body %}
<form method="post" action="{{ path('app_login') }}">
    
    {% if error %}
        <div class="alert alert-danger">
            {{ error.messageKey|trans(error.messageData, 'security') }}
        </div>
    {% endif %}
    
    <h1 class="h3 mb-3 font-weight-normal">Merci de vous connecter</h1>

    {# Champ Email #}
    <div class="mb-3">
        <label for="inputEmail" class="form-label">Email</label>
        <input type="email" 
               id="inputEmail" 
               name="_username" 
               class="form-control"
               value="{{ last_username }}" 
               required 
               autofocus
               autocomplete="email">
    </div>

    {# Champ Password avec toggle UX #}
    <div class="mb-3" data-controller="toggle-password">
        <label for="inputPassword" class="form-label">Mot de passe</label>
        <div class="input-group">
            <input type="password" 
                   id="inputPassword" 
                   name="_password" 
                   class="form-control"
                   data-toggle-password-target="input"
                   required
                   autocomplete="current-password">
            <button class="btn btn-outline-secondary" 
                    type="button" 
                    data-action="toggle-password#toggle"
                    data-toggle-password-target="button">
                üëÅÔ∏è
            </button>
        </div>
    </div>

    {# Remember me #}
    <div class="mb-3 form-check">
        <input type="checkbox" 
               class="form-check-input" 
               id="remember_me" 
               name="_remember_me">
        <label class="form-check-label" for="remember_me">
            Se souvenir de moi
        </label>
    </div>

    {# Token CSRF #}
    <input type="hidden" name="_token" value="{{ csrf_token('authenticate') }}">

    {# Bouton submit #}
    <button class="btn btn-lg btn-primary" type="submit">
        Connexion
    </button>
</form>
{% endblock %}